(()=>{function e(e,t,d,i,a,n){this.title=e,this.description=t,this.date=d,this.priority=i,this.finished=n||!1,this.projectName=a}const t={today:{},thisWeek:{}};function d(e,d){t[e]||(t[e]={}),t[e][d.title]=d,console.log(t)}const i=document.getElementById("today"),a=(document.getElementById("thisWeek"),document.getElementById("addProjBtn")),n=document.getElementById("projectModal"),s=document.getElementById("submitProject"),c=document.getElementById("projForm"),l=document.getElementById("projName"),o=document.getElementById("projContainer"),r=document.getElementById("addTaskBtn"),m=document.getElementById("overlay"),u=document.getElementById("addTaskForm"),v=document.getElementById("submitTask"),y=document.getElementById("form"),g=document.getElementById("title"),h=document.getElementById("description"),p=document.getElementById("date"),E=document.getElementById("tasksGrid"),k=document.getElementsByName("priority");function L(){u.classList.remove("active"),m.classList.remove("active"),n.classList.remove("active")}function B(e,t,d,i){let a=document.createElement(e);return d&&(a.src=d),i&&(a.id=i),t&&t.forEach((e=>{a.classList.add(e)})),a}function I(e,t,d,i){let a=B("div",["task",d]),n=B("div",["task_checkbox"]),s=B("input",[e]);s.type="checkbox",s.name=e,s.checked=i,i&&a.classList.add("checked"),s.addEventListener("change",(()=>{s.checked?a.classList.add("checked"):a.classList.remove("checked")}));let c=B("div",["task_title"]);c.innerText=e;let l=B("div",["description"]),o=B("button",[void 0],void 0,"descBtn");o.innerText="Description";let r=B("div",["task_date"]);r.innerText=t;let m=B("img",["edit"],"./images/pencil.svg"),u=B("img",["delete"],"./images/bin.svg");u.addEventListener("click",(()=>{E.removeChild(a),delete today[e]})),E.appendChild(a),a.append(n,c,l,r,m,u),n.appendChild(s),l.appendChild(o)}i.addEventListener("click",(()=>{E.classList.contains("today")||(E.innerHTML="",E.className="today")})),r.addEventListener("click",(()=>{m.classList.add("active"),u.classList.add("active")})),m.addEventListener("click",(e=>{e.target===m&&L()})),v.addEventListener("click",(t=>{if(t.preventDefault(),""===g.value)return void g.setCustomValidity("Please fill out the task name field");let i;for(let e=0;e<k.length;e++)k[e].checked&&(i=k[e].value);d("today",new e(g.value,h.value,p.value,i,"today")),I(g.value,p.value,i),y.reset(),L()})),a.addEventListener("click",(()=>{m.classList.add("active"),n.classList.add("active")})),s.addEventListener("click",(e=>(e.preventDefault(),""===l.value?(l.setCustomValidity("Please fill out the project name field"),void l.reportValidity()):t[l.value]?(l.setCustomValidity("There is already a project with this name. Please use another name for your project"),void l.reportValidity()):(t[l.value]={},function(e){let t=document.createElement("p");t.innerText=e,t.className="projectsNames",t.addEventListener("click",(()=>{E.classList.contains(e)||(E.innerHTML="",E.className=e)})),o.append(t)}(l.value),c.reset(),L(),void console.log(t))))),d("today",new e("work","everyday","2023-02-02","high","today")),I("work","2023-02-02","high");let f=new e("read","everyday","2023-03-03","medium","today",!0);d("today",f),I(f.title,f.date,f.priority,f.finished),localStorage.setItem("myItems",JSON.stringify(t)),console.log(JSON.parse(localStorage.getItem("myItems")))})();