(()=>{function e(e,t,d,i,n){this.title=e,this.description=t,this.date=d,this.priority=i,this.finished=n||!1}const t={today:{},thisWeek:{}};function d(e,d){t[e]||(t[e]={}),t[e][d.title]=d,console.log(t)}const i=document.getElementById("addProjBtn"),n=document.getElementById("projectModal"),a=document.getElementById("submitProject"),c=document.getElementById("projForm"),l=document.getElementById("projName"),s=document.getElementById("projContainer"),o=document.getElementById("addTaskBtn"),m=document.getElementById("overlay"),r=document.getElementById("addTaskForm"),u=document.getElementById("submitTask"),v=document.getElementById("form"),y=document.getElementById("title"),g=document.getElementById("description"),h=document.getElementById("date"),p=document.getElementById("tasksGrid"),k=document.getElementsByName("priority");function E(){r.classList.remove("active"),m.classList.remove("active"),n.classList.remove("active")}function f(e,t,d,i){let n=document.createElement(e);return d&&(n.src=d),i&&(n.id=i),t&&t.forEach((e=>{n.classList.add(e)})),n}function B(e,t,d,i){let n=f("div",["task",d]),a=f("div",["task_checkbox"]),c=f("input",[e]);c.type="checkbox",c.name=e,c.checked=i,i&&n.classList.add("checked"),c.addEventListener("change",(()=>{c.checked?n.classList.add("checked"):n.classList.remove("checked")}));let l=f("div",["task_title"]);l.innerText=e;let s=f("div",["description"]),o=f("button",[void 0],void 0,"descBtn");o.innerText="Description";let m=f("div",["task_date"]);m.innerText=t;let r=f("img",["edit"],"./images/pencil.svg"),u=f("img",["delete"],"./images/bin.svg");u.addEventListener("click",(()=>{p.removeChild(n),delete today[e]})),p.appendChild(n),n.append(a,l,s,m,r,u),a.appendChild(c),s.appendChild(o)}o.addEventListener("click",(()=>{m.classList.add("active"),r.classList.add("active")})),m.addEventListener("click",(e=>{e.target===m&&E()})),u.addEventListener("click",(t=>{if(t.preventDefault(),""===y.value)return void y.setCustomValidity("Please fill out the task name field");let i;for(let e=0;e<k.length;e++)k[e].checked&&(i=k[e].value);d("today",new e(y.value,g.value,h.value,i)),B(y.value,h.value,i),v.reset(),E()})),i.addEventListener("click",(()=>{m.classList.add("active"),n.classList.add("active")})),a.addEventListener("click",(e=>{e.preventDefault(),""!==l.value?(t[l.value]={},function(e){let t=document.createElement("p");t.innerText=e,s.append(t)}(l.value),c.reset(),E()):l.setCustomValidity("Please fill out the project name field")})),d("today",new e("work","everyday","2023-02-02","high")),B("work","2023-02-02","high");let I=new e("read","everyday","2023-03-03","medium",!0);d("today",I),B(I.title,I.date,I.priority,I.finished),localStorage.setItem("myItems",JSON.stringify(t)),console.log(JSON.parse(localStorage.getItem("myItems")))})();